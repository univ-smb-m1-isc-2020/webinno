<!DOCTYPE html>
<html  xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Resolution</title>
</head>
<body>
    <h1>Détail d'une résolution d'un user</h1>

    <table>
        <tr>
            <th>Id</th>
            <th>Action</th>
            <th>Frequence</th>
            <th>NombreOcc</th>
        </tr>
        <tr>
            <td th:text="${user_resolution.resolution.idResolution}"></td>
            <td th:text="${user_resolution.resolution.action}"></td>
            <td th:text="${user_resolution.frequence}"></td>
            <td th:text="${user_resolution.nbOccurence}"></td>
        </tr>
    </table>

    <h1>TODO validation sur une semaine</h1>
    <table>
        <tr>Id</tr>
        <tr>Jour</tr>
        <tr>Etat</tr>
        <tr>Bouton</tr>

        <tr th:each="hist : ${histLastSemaine}">
            <td th:text="${hist.idHistorique}"></td>
            <td th:text="${hist.getDate()}"></td>
            <td th:text="${hist.isDone()}"></td>
            <td>
                <form action="#" th:action="@{/updateValidation}" th:object="${resolutionValidationForm}" method="post">
                    <input type="hidden" th:value="${user.idUser}" name="idUser">
                    <input type="hidden" th:value="${hist.getIdHistorique()}" name="idHistorique">
                    <div th:if="${hist.isDone()}">
                        <input th:type="submit" value="invalider">
                    </div>
                    <div th:unless="${hist.isDone()}">
                        <input th:type="submit" value="valider">
                    </div>
                </form>
            </td>
        </tr>
    </table>
</body>
</html>